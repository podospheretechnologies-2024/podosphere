/* ========================================
   RESPONSIVE DESIGN FIXES - ENHANCED
   Cross-Device Compatibility CSS
   ======================================== */

/* Mobile Navigation Base Styles */
.mobile-nav {
  display: none; /* Hidden by default */
}

.main-nav {
  display: block; /* Shown by default */
}

/* Mobile First Approach - Enhanced Breakpoints */

/* Extra Small Devices (Portrait Phones, less than 576px) */
@media (max-width: 575.98px) {
  /* Show mobile nav, hide desktop nav */
  .mobile-nav {
    display: flex !important;
  }
  
  .main-nav {
    display: none !important;
  }

  /* Typography */
  h1 { font-size: 2rem !important; }
  h2 { font-size: 1.75rem !important; }
  h3 { font-size: 1.5rem !important; }
  .lead { font-size: 1rem !important; }

  /* Hero Sections - Enhanced */
  .service-detail-hero,
  .portfolio-hero,
  .page-title-area {
    padding: 60px 0 !important;
    min-height: auto !important;
  }

  .service-detail-hero h1,
  .portfolio-hero h1,
  .page-title-content h1 {
    font-size: 2rem !important;
    line-height: 1.2 !important;
  }

  .service-detail-hero p,
  .portfolio-hero p {
    font-size: 1.1rem !important;
    line-height: 1.5 !important;
  }

  .service-icon-large {
    font-size: 4rem !important;
    margin-bottom: 20px !important;
  }

  /* Buttons - Enhanced Mobile */
  .default-btn,
  .cta-btn {
    padding: 14px 24px !important;
    font-size: 0.95rem !important;
    width: 100% !important;
    display: block !important;
    margin-bottom: 15px !important;
    min-height: 48px !important;
    border-radius: 8px !important;
  }

  /* Cards - Enhanced Mobile */
  .feature-box,
  .service-card,
  .portfolio-grid .card,
  .value-card,
  .why-us-card {
    padding: 25px 20px !important;
    margin-bottom: 20px !important;
    border-radius: 16px !important;
  }

  /* Service Grid - Enhanced */
  .service-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
    padding: 20px 0 !important;
  }

  /* Process Steps - Enhanced Mobile */
  .process-number {
    width: 70px !important;
    height: 70px !important;
    font-size: 2rem !important;
  }

  /* Tech Badges - Enhanced Mobile */
  .tech-badge {
    padding: 10px 18px !important;
    font-size: 0.85rem !important;
    margin: 5px !important;
    display: inline-block !important;
    white-space: nowrap !important;
  }

  /* Featured Leaders - Enhanced Mobile */
  .leader-card {
    padding: 30px 20px !important;
    text-align: center !important;
  }

  .leader-card .row .col-md-5,
  .leader-card .row .col-md-7 {
    width: 100% !important;
    text-align: center !important;
  }

  .leader-card h3 {
    font-size: 1.75rem !important;
  }

  .leader-card img {
    width: 150px !important;
    height: 150px !important;
  }

  /* Team Cards - Enhanced Mobile */
  .team-card img {
    height: 300px !important;
    object-fit: cover !important;
  }

  /* Hero Badges - Enhanced Mobile */
  .hero-badge {
    display: block !important;
    margin: 8px auto !important;
    max-width: 90% !important;
    font-size: 0.9rem !important;
    padding: 8px 16px !important;
  }

  /* Service Filters - Enhanced Mobile */
  .service-filters button {
    padding: 10px 18px !important;
    font-size: 0.9rem !important;
    margin: 5px !important;
    min-height: 44px !important;
  }

  /* Banner Content - Enhanced Mobile */
  .banner-content h1 {
    font-size: 2.2rem !important;
    line-height: 1.2 !important;
  }

  /* Portfolio Grid - Enhanced Mobile */
  .portfolio-grid .card-title {
    font-size: 1.2rem !important;
  }

  /* Container Adjustments - Enhanced Mobile */
  .container-max,
  .container-max-2 {
    padding: 0 15px !important;
    max-width: 100% !important;
  }

  /* Animation Optimizations for Mobile */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Touch Device Optimizations */
  @media (hover: none) and (pointer: coarse) {
    .feature-box:hover,
    .service-card:hover,
    .tech-badge:hover {
      transform: none !important;
    }
  }
}

/* Small Devices (Landscape Phones, 576px and up) */
@media (min-width: 576px) and (max-width: 767.98px) {
  /* Show mobile nav, hide desktop nav */
  .mobile-nav {
    display: flex !important;
  }
  
  .main-nav {
    display: none !important;
  }

  h1 { font-size: 2.5rem !important; }
  h2 { font-size: 2rem !important; }

  .service-detail-hero h1,
  .portfolio-hero h1 {
    font-size: 2.5rem !important;
    line-height: 1.3 !important;
  }

  .service-icon-large {
    font-size: 5rem !important;
  }

  .service-grid {
    grid-template-columns: 1fr !important;
    gap: 25px !important;
  }

  .leader-card {
    padding: 35px !important;
  }

  .process-number {
    width: 80px !important;
    height: 80px !important;
    font-size: 2.2rem !important;
  }

  .default-btn,
  .cta-btn {
    padding: 16px 32px !important;
    font-size: 1rem !important;
    min-height: 50px !important;
  }
}

/* Medium Devices (Tablets, 768px and up) */
@media (min-width: 768px) and (max-width: 991.98px) {
  /* Show mobile nav, hide desktop nav for tablets */
  .mobile-nav {
    display: flex !important;
  }
  
  .main-nav {
    display: none !important;
  }

  h1 { font-size: 2.8rem !important; }
  h2 { font-size: 2.2rem !important; }

  .service-detail-hero h1,
  .portfolio-hero h1 {
    font-size: 2.8rem !important;
  }

  .service-icon-large {
    font-size: 5.5rem !important;
  }

  .service-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 30px !important;
  }

  .leader-card {
    padding: 40px !important;
  }

  .leader-card img {
    width: 180px !important;
    height: 180px !important;
  }

  .process-number {
    width: 90px !important;
    height: 90px !important;
    font-size: 2.5rem !important;
  }

  /* Portfolio Grid - Enhanced Tablet */
  .portfolio-grid .col-lg-4 {
    flex: 0 0 50% !important;
    max-width: 50% !important;
  }

  .default-btn,
  .cta-btn {
    padding: 18px 36px !important;
    font-size: 1.05rem !important;
  }
}

/* Large Devices (Desktops, 992px and up) */
@media (min-width: 992px) and (max-width: 1199.98px) {
  /* Show desktop nav, hide mobile nav */
  .mobile-nav {
    display: none !important;
  }
  
  .main-nav {
    display: block !important;
  }

  .service-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 35px !important;
  }

  .leader-card {
    padding: 45px !important;
  }

  .default-btn,
  .cta-btn {
    padding: 20px 40px !important;
    font-size: 1.1rem !important;
  }
}

/* Extra Large Devices (Large Desktops, 1200px and up) */
@media (min-width: 1200px) {
  /* Show desktop nav, hide mobile nav */
  .mobile-nav {
    display: none !important;
  }
  
  .main-nav {
    display: block !important;
  }

  .service-grid {
    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)) !important;
  }

  .default-btn,
  .cta-btn {
    padding: 22px 48px !important;
    font-size: 1.15rem !important;
  }
}

/* Landscape Orientation Fixes - Enhanced */
@media (max-height: 600px) and (orientation: landscape) {
  .service-detail-hero,
  .portfolio-hero,
  .page-title-area {
    padding: 40px 0 !important;
  }

  .service-icon-large {
    font-size: 3rem !important;
    margin-bottom: 10px !important;
  }

  .hero-badge {
    font-size: 0.8rem !important;
    padding: 6px 12px !important;
  }
}

/* Touch Device Optimizations - Enhanced */
@media (hover: none) and (pointer: coarse) {
  /* Remove hover effects on touch devices */
  .feature-box:hover,
  .service-card:hover,
  .tech-badge:hover {
    transform: none !important;
  }

  /* Larger touch targets */
  .default-btn,
  .cta-btn,
  a.nav-link {
    min-height: 44px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Increase clickable area */
  .social-link a {
    min-width: 48px !important;
    min-height: 48px !important;
  }
}

/* Print Styles - Enhanced */
@media print {
  .navbar-area,
  .footer-area,
  .preloader,
  .cta-section {
    display: none !important;
  }

  body {
    font-size: 12pt !important;
    color: #000 !important;
    background: #fff !important;
  }

  a {
    text-decoration: underline !important;
  }

  .service-detail-hero,
  .portfolio-hero {
    background: none !important;
    color: #000 !important;
    padding: 20px 0 !important;
  }
}

/* High DPI Displays - Enhanced */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Ensure images look crisp on retina displays */
  img {
    image-rendering: -webkit-optimize-contrast !important;
    image-rendering: crisp-edges !important;
  }

  /* Optimize text rendering */
  body {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }
}

/* Reduced Motion Preference - Enhanced */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Disable parallax effects */
  .service-detail-hero,
  .portfolio-hero {
    background-attachment: scroll !important;
  }
}

/* Dark Mode Support - Enhanced */
@media (prefers-color-scheme: dark) {
  /* Enhanced dark mode variables */
  :root {
    --bg-dark-card: #0f172a;
    --text-dark: #f1f5f9;
    --border-dark: #334155;
  }

  /* Dark mode adjustments for service pages */
  .feature-box {
    background: linear-gradient(145deg, var(--bg-dark-card), #1e293b) !important;
    border-color: var(--border-dark) !important;
  }

  .service-detail-hero {
    background: linear-gradient(-45deg, #7c2d12, #dc2626, #ea580c, #f59e0b) !important;
  }
}

/* iOS Specific Fixes - Enhanced */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific fixes */
  .service-detail-hero,
  .portfolio-hero {
    min-height: -webkit-fill-available !important;
  }

  input,
  textarea,
  select {
    font-size: 16px !important; /* Prevents zoom on focus */
  }

  /* Fix iOS Safari viewport height issues */
  .service-detail-hero {
    height: 100vh !important;
    height: 100dvh !important; /* Dynamic viewport height for mobile browsers */
  }
}

/* Container Max Width Responsive - Enhanced */
@media (max-width: 1400px) {
  .container-max,
  .container-max-2 {
    max-width: 1200px !important;
  }
}

@media (max-width: 1200px) {
  .container-max,
  .container-max-2 {
    max-width: 960px !important;
  }
}

@media (max-width: 992px) {
  .container-max,
  .container-max-2 {
    max-width: 720px !important;
  }
}

@media (max-width: 768px) {
  .container-max,
  .container-max-2 {
    max-width: 540px !important;
  }
}

@media (max-width: 576px) {
  .container-max,
  .container-max-2 {
    max-width: 100% !important;
    padding: 0 20px !important;
  }
}

/* Fix Overflow Issues - Enhanced */
* {
  box-sizing: border-box !important;
}

body {
  overflow-x: hidden !important;
}

.row {
  margin-left: -15px !important;
  margin-right: -15px !important;
}

/* Ensure Images Don't Overflow - Enhanced */
img {
  max-width: 100% !important;
  height: auto !important;
}

/* Flexible Videos - Enhanced */
iframe,
video,
embed {
  max-width: 100% !important;
  height: auto !important;
}

/* Contact Form Mobile Fix - Enhanced */
@media (max-width: 767.98px) {
  .contact-form input,
  .contact-form textarea {
    font-size: 16px !important; /* Prevents iOS zoom */
    padding: 16px !important;
  }

  .contact-img {
    display: none !important; /* Hide image on mobile for better UX */
  }
}

/* Service Filters Mobile - Enhanced */
@media (max-width: 767.98px) {
  .service-filters {
    display: flex !important;
    flex-wrap: wrap !important;
    justify-content: center !important;
    padding: 0 10px !important;
    gap: 10px !important;
  }

  .service-filters button {
    flex: 0 0 auto !important;
    white-space: nowrap !important;
  }
}

/* Portfolio Grid Mobile - Enhanced */
@media (max-width: 767.98px) {
  .portfolio-grid .col-md-6 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
  }

  .portfolio-grid .card img {
    height: 200px !important;
    object-fit: cover !important;
  }
}

/* Navigation Mobile Enhancements - Enhanced */
@media (max-width: 991.98px) {
  .mobile-nav {
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    padding: 12px 16px !important;
    background: #ffffff !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 1000 !important;
    border-bottom: 1px solid rgba(0,0,0,0.06) !important;
  }

  .mobile-nav .logo img {
    height: 36px !important;
  }

  .mobile-menu-toggle {
    background: transparent !important;
    border: 0 !important;
    width: 44px !important;
    height: 36px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex-direction: column !important;
    gap: 4px !important;
    cursor: pointer !important;
    transition: transform 200ms ease !important;
  }

  .mobile-menu-toggle .bar {
    width: 24px !important;
    height: 2px !important;
    background: #111 !important;
    display: block !important;
    transition: transform 200ms ease, opacity 200ms ease !important;
  }

  .mobile-menu-toggle.open .bar:nth-child(1) {
    transform: translateY(6px) rotate(45deg) !important;
  }

  .mobile-menu-toggle.open .bar:nth-child(2) {
    opacity: 0 !important;
  }

  .mobile-menu-toggle.open .bar:nth-child(3) {
    transform: translateY(-6px) rotate(-45deg) !important;
  }

  .mobile-menu {
    display: block !important;
    max-height: 0 !important;
    overflow: hidden !important;
    background: #ffffff !important;
    border-top: 1px solid rgba(0,0,0,0.06) !important;
    box-shadow: 0 8px 20px rgba(0,0,0,0.06) !important;
    opacity: 0 !important;
    transform: translateY(-6px) !important;
    transition: max-height 240ms ease, opacity 200ms ease, transform 200ms ease !important;
  }

  .mobile-menu.open {
    max-height: 420px !important; /* enough for the list; remains smooth */
    opacity: 1 !important;
    transform: translateY(0) !important;
  }

  .mobile-nav-list {
    list-style: none !important;
    margin: 0 !important;
    padding: 8px 12px 16px !important;
  }

  .mobile-nav-list .nav-item {
    border-bottom: 1px solid rgba(0,0,0,0.06) !important;
  }

  .mobile-nav-list .nav-item:last-child {
    border-bottom: 0 !important;
  }

  .mobile-nav-list .nav-link,
  .mobile-nav-list .dropdown-label {
    display: block !important;
    padding: 12px 6px !important;
    color: #111 !important;
    text-decoration: none !important;
    font-weight: 500 !important;
  }

  .mobile-nav-list .dropdown-menu {
    list-style: none !important;
    margin: 0 0 8px 0 !important;
    padding: 0 0 8px 12px !important;
  }

  .mobile-nav-list .cta .nav-menu-btn {
    display: inline-flex !important;
    width: 100% !important;
    justify-content: center !important;
    margin-top: 8px !important;
  }

  .navbar-nav {
    padding: 20px 0 !important;
  }

  .nav-item {
    padding: 10px 0 !important;
  }

  .side-nav {
    flex-direction: column !important;
    gap: 15px !important;
  }
}

/* Table Responsive - Enhanced */
@media (max-width: 767.98px) {
  table {
    display: block !important;
    overflow-x: auto !important;
    white-space: nowrap !important;
    border-collapse: collapse !important;
  }

  thead, tbody, th, td, tr {
    display: block !important;
  }

  td {
    border: none !important;
    border-bottom: 1px solid #ddd !important;
    position: relative !important;
    padding-left: 50% !important;
  }

  td:before {
    content: attr(data-label) !important;
    position: absolute !important;
    left: 6px !important;
    width: 45% !important;
    padding-right: 10px !important;
    white-space: nowrap !important;
    font-weight: bold !important;
  }
}

/* Additional Responsive Utilities */
.container-fluid {
  padding-left: 15px !important;
  padding-right: 15px !important;
}

/* Responsive Typography Scale */
@media (max-width: 575.98px) {
  .display-1 { font-size: 3rem !important; }
  .display-2 { font-size: 2.5rem !important; }
  .display-3 { font-size: 2rem !important; }
  .display-4 { font-size: 1.5rem !important; }
}

@media (min-width: 576px) and (max-width: 767.98px) {
  .display-1 { font-size: 3.5rem !important; }
  .display-2 { font-size: 3rem !important; }
  .display-3 { font-size: 2.5rem !important; }
  .display-4 { font-size: 2rem !important; }
}

@media (min-width: 768px) and (max-width: 991.98px) {
  .display-1 { font-size: 4rem !important; }
  .display-2 { font-size: 3.5rem !important; }
  .display-3 { font-size: 3rem !important; }
  .display-4 { font-size: 2.5rem !important; }
}

/* Enhanced Focus States for Accessibility */
@media (min-width: 576px) {
  .btn:focus,
  .form-control:focus,
  .nav-link:focus {
    outline: 2px solid #007bff !important;
    outline-offset: 2px !important;
  }
}

/* Responsive Spacing Utilities */
@media (max-width: 575.98px) {
  .mb-mobile-3 { margin-bottom: 1rem !important; }
  .mb-mobile-4 { margin-bottom: 1.5rem !important; }
  .mb-mobile-5 { margin-bottom: 3rem !important; }
  
  .p-mobile-3 { padding: 1rem !important; }
  .p-mobile-4 { padding: 1.5rem !important; }
  .p-mobile-5 { padding: 3rem !important; }
}